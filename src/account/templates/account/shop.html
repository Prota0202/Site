{% extends "base.html" %}

{% block content %}

<style type="text/css">
    .vh-100 {
        margin-top: 100px;
    }

    .product-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin: 20px;
    }

    .product-card {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 16px;
        margin: 10px;
        text-align: center;
        width: 200px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
    }

    .product-card:hover {
        transform: scale(1.05);
    }

    .product-image {
        max-width: 100%;
        height: auto;
        margin-bottom: 10px;
    }

    .product-price {
        color: #28a745;
        font-size: 16px;
        margin-bottom: 10px;
    }

    .buy-button {
        background-color: #343a40;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
    }

    .buy-button:hover {
        background-color: #23272b;
    }

    .search-bar {
        display: flex;
        justify-content: center;
        margin: 20px 0;
    }

    .search-input {
        padding: 10px;
        width: 300px;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin-right: 10px;
    }

    .search-button,
    .filter-button {
        background-color: #343a40;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
        cursor: pointer;
    }

    .search-button:hover,
    .filter-button:hover {
        background-color: #23272b;
    }

    .filter-select {
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin-left: 10px;
    }

    /* Style pour la pagination */
    .pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 20px 0;
        font-size: 16px;
    }

    .pagination .step-links {
        display: flex;
        gap: 10px;
    }

    .pagination a, .pagination .current {
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 5px;
        color: #343a40;
        text-decoration: none;
        transition: background-color 0.3s, color 0.3s;
    }

    .pagination a:hover {
        background-color: #343a40;
        color: #fff;
    }

    .pagination .current {
        background-color: #343a40;
        color: white;
        font-weight: bold;
    }

    .pagination a[disabled], .pagination .current[disabled] {
        color: #aaa;
        cursor: default;
    }
</style>

<div class="vh-100">
    <h1 class="text-center">Boutique en ligne</h1>

    <!-- Barre de recherche et boutons de filtre -->
    <div class="search-bar">
        <input type="text" class="search-input" placeholder="Rechercher un produit...">
        <button class="search-button">üîç</button>

        <select class="filter-select" onchange="window.location.href=this.value;">
            <option value="?filter=" {% if not promo_filter and not price_filter %}selected{% endif %}>Tous</option>
            <option value="?filter=promo" {% if promo_filter %}selected{% endif %}>Promotions</option>
            <option value="?filter=prix" {% if price_filter %}selected{% endif %}>Prix</option>
        </select>
    </div>

    <!-- Affichage des produits -->
    <div class="product-container">
        {% for item in page_obj %}
            <div class="product-card">
                <img src="https://www.cdiscount.com/pdt2/4/5/4/1/700x700/mp03089454/rw/casual-chaussure-homme-basket-homme-respirant-d.jpg" alt="{{ item.name }}" class="product-image">
                <div class="product-price">‚Ç¨{{ item.price }}</div>
                <a href="#" class="buy-button">Acheter</a>
            </div>
        {% empty %}
            <p>Aucun produit trouv√©.</p>
        {% endfor %}
    </div>

    <!-- Pagination -->
    <div class="pagination">
        <span class="step-links">
            {% if page_obj.has_previous %}
                <a href="?page=1{% if is_promotion_filter %}&filter=promo{% endif %}">&laquo; premi√®re</a>
                <a href="?page={{ page_obj.previous_page_number }}{% if is_promotion_filter %}&filter=promo{% endif %}">pr√©c√©dente</a>
            {% endif %}

            <span class="current">
                Page {{ page_obj.number }} sur {{ page_obj.paginator.num_pages }}.
            </span>

            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}{% if is_promotion_filter %}&filter=promo{% endif %}">suivante</a>
                <a href="?page={{ page_obj.paginator.num_pages }}{% if is_promotion_filter %}&filter=promo{% endif %}">derni√®re &raquo;</a>
            {% endif %}
        </span>
    </div>
</div>

{% endblock content %}
